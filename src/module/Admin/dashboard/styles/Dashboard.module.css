/* File: styles/Dashboard.module.css */

/* Container principal */
.container{
  height:auto;
  min-height:calc(100vh - 56px);
  overflow:hidden;
  flex:1 1 auto;
  background: linear-gradient(135deg, #f7f7fb 0%, #f1f5f9 100%);
  padding:24px;
  color:#111827;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

/* Indicador de página + alertas */
.crumbBar{display:flex;align-items:center;gap:8px;margin:4px 0 16px}
.crumb{
  display:inline-flex;align-items:center;gap:6px;padding:8px 14px;
  border:1px solid #e2e8f0;
  background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  border-radius:12px;font-weight:700;color:#334155;
  box-shadow:0 2px 4px rgba(0,0,0,.04);backdrop-filter: blur(8px);
}
.crumbError{color:#dc2626;font-size:12px;font-weight:600}

/* Header com filtros */
.headerRow{display:flex;justify-content:flex-end;margin-bottom:20px}
.filters{display:flex;gap:16px;align-items:flex-end}
.filterItem{display:flex;flex-direction:column;gap:6px;font-size:12px;color:#475569;font-weight:500}
.filterItem input{
  padding:10px 12px;border:1px solid #d1d5db;border-radius:10px;
  background: rgba(255,255,255,0.8);backdrop-filter: blur(8px);
  font-size:14px;transition: all 0.2s ease;min-width: 180px;
}
.filterItem input:focus{border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,0.1);outline:none}

/* Botão de refresh */

.refreshBtn{
  border:1px solid var(--qr-border); background:#fff; color:var(--qr-text-2);
  border-radius:12px; padding:10px 14px; font-weight:700;
  display:inline-flex; align-items:center; gap:8px; cursor:pointer;
}
.refreshBtn:hover{ background:var(--qr-surface-2); }
.refreshBtn:disabled{opacity:.6;cursor:not-allowed;transform:none}
.spinning{animation: spin 1s linear infinite}
@keyframes spin{from{transform: rotate(0)}to{transform: rotate(360deg)}}

/* Grids responsivos */
.statRow{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:20px;margin:16px 0 24px}
.gridTwo{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:24px}
@media (max-width:1024px){.statRow{grid-template-columns:1fr}.gridTwo{grid-template-columns:1fr}}

/* Cards */
.card{
  background: rgba(255,255,255,0.8);backdrop-filter: blur(12px);
  border:1px solid rgba(226,232,240,0.6);
  border-radius:16px;box-shadow:0 4px 6px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
  display:flex;flex-direction:column;min-height:120px;overflow:visible;transition: all .3s ease;
  animation: fadeIn .3s ease-out;
}
.card:hover{box-shadow:0 8px 25px rgba(0,0,0,0.1), 0 4px 10px rgba(0,0,0,0.05);transform: translateY(-2px)}
.cardHead{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 20px;border-bottom:1px solid rgba(226,232,240,0.4);
  background: linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(248,250,252,0.6) 100%);
}
.cardTitle{display:flex;align-items:center;gap:10px;font-weight:700;color:#1e293b;font-size:15px}
.cardIcon{display:inline-flex;align-items:center;color:#64748b}
.cardRight{display:flex;align-items:center;gap:10px}
.cardBody{padding:20px;flex:1}

/* Pills */
.kpill{font-size:11px;font-weight:700;color:#475569;background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);border:1px solid #cbd5e1;padding:6px 12px;border-radius:20px;box-shadow:0 1px 2px rgba(0,0,0,0.05)}
.kpillGreen{font-size:12px;font-weight:700;color:#166534;background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);border:1px solid #86efac;padding:6px 12px;border-radius:20px;box-shadow:0 1px 3px rgba(34,197,94,0.2)}
.kpillBlue{font-size:12px;font-weight:700;color:#1e40af;background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);border:1px solid #93c5fd;padding:6px 12px;border-radius:20px;box-shadow:0 1px 3px rgba(59,130,246,0.2)}
.kpillAmber{font-size:12px;font-weight:700;color:#92400e;background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);border:1px solid #fcd34d;padding:6px 12px;border-radius:20px;box-shadow:0 1px 3px rgba(245,158,11,0.2)}
.kpillRed{font-size:12px;font-weight:700;color:#991b1b;background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);border:1px solid #fca5a5;padding:6px 12px;border-radius:20px;box-shadow:0 1px 3px rgba(239,68,68,0.2)}

/* Skeleton */
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
.skeleton{background: linear-gradient(90deg, #f1f5f9 0%, #e2e8f0 50%, #f1f5f9 100%);background-size:200% 100%;animation:shimmer 1.5s infinite;display:block;border-radius:8px}

/* Tooltip de ajuda */
.help{--tipw:280px;display:inline-flex;align-items:center;color:#94a3b8;position:relative;cursor:help;transition: color .2s ease}
.help:hover{color:#475569}
.help::after{
  content:attr(data-tooltip);position:absolute;left:50%;bottom:calc(100% + 10px);transform:translateX(-50%);
  width:var(--tipw);max-width:calc(100vw - 24px);background:#1e293b;color:#f8fafc;border-radius:12px;
  padding:12px 14px;font-size:12px;line-height:1.4;white-space:pre-wrap;box-shadow:0 10px 30px rgba(0,0,0,0.25), 0 4px 10px rgba(0,0,0,0.15);
  opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:1000;
}
.help[data-pos="top-left"]::after{left:0;transform:none}
.help[data-pos="top-right"]::after{left:auto;right:0;transform:none}
.help:hover::after{opacity:1}

/* Stats */
.statsGrid3{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}
.stat{
  border-radius:14px;padding:16px 12px;text-align:center;
  background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
  border:1px solid #e2e8f0;box-shadow:0 1px 3px rgba(0,0,0,0.05);transition: all .2s ease;
}
.stat:hover{box-shadow:0 4px 12px rgba(0,0,0,0.1);transform: translateY(-1px)}
.statValue{font-size:28px;font-weight:800;margin-bottom:4px;line-height:1}
.statLabel{color:#64748b;font-size:12px;font-weight:500}
.tone_blue .statValue{color:#2563eb}
.tone_purple .statValue{color:#7c3aed}
.tone_amber .statValue{color:#d97706}
.tone_green .statValue{color:#059669}

/* ===== CHARTS (light theme) ===== */
.chartRoot{position:relative;width:100%}
.chartSvg{display:block;width:100%;height:100%}
.grid{stroke:#eef2f7;stroke-width:1}
.axis{stroke:#e5e7eb;stroke-width:1}
.tick{fill:#64748b;font-size:11px}
.crosshair{stroke:#94a3b8;stroke-width:1;stroke-dasharray:3 3}
.areaFill{fill:rgba(37,99,235,.15)}
.lineStroke{stroke:#2563eb;stroke-width:2;fill:none}
.lineDot{fill:#3b82f6}
.lineDotActive{fill:#1d4ed8}
.barRect{fill:#3b82f6}
.tt{position:absolute;transform:translate(-50%,-110%);background:#111827;color:#fff;font-size:12px;border-radius:8px;padding:6px 8px;box-shadow:0 6px 18px rgba(0,0,0,.2);pointer-events:none;white-space:nowrap}
.ttLine{opacity:.85}
.ttValue{font-weight:800}
.hit{position:absolute;inset:0}

/* Donut */
.donutWrap{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px}
.donutBg{stroke:#e5e7eb;stroke-width:12;fill:none}
.donutFg{stroke:#22c55e;stroke-width:12;fill:none;filter: drop-shadow(0 2px 4px rgba(34,197,94,0.2))}
.donutText{font-size:20px;font-weight:800;fill:#1e293b}
.donutLabel{font-size:13px;color:#64748b;font-weight:500}

/* Ranking */
.rankList{list-style:none;margin:0;padding:8px 0;display:flex;flex-direction:column;gap:10px}
.rankItem{display:grid;grid-template-columns:1fr auto auto;gap:12px;align-items:center}
.rankLabel{color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500;font-size:14px}
.rankBarWrap{height:8px;background:#f1f5f9;border-radius:20px;overflow:hidden;min-width:60px}
.rankBar{height:100%;background: linear-gradient(90deg, #60a5fa 0%, #3b82f6 100%);transition: width .3s ease;box-shadow: 0 1px 2px rgba(59,130,246,0.2)}
.rankValue{font-weight:700;color:#1e293b;min-width:48px;text-align:right;font-size:14px}

/* NPS */
.npsWrap{display:flex;align-items:center;gap:16px;padding:4px 0}
.npsScale{position:relative;flex:1}
.npsTrack{height:12px;border-radius:20px;background: linear-gradient(90deg, #ef4444 0%, #f59e0b 50%, #10b981 100%);box-shadow: inset 0 1px 3px rgba(0,0,0,0.1)}
.npsMarker{position:absolute;top:50%;transform:translate(-50%,-50%);width:14px;height:14px;border-radius:50%;background:#1e293b;box-shadow:0 0 0 3px #ffffff, 0 2px 8px rgba(0,0,0,0.2);transition:left .3s ease}
.npsLabels{display:flex;justify-content:space-between;font-size:10px;color:#64748b;margin-top:8px;font-weight:500}
.npsValue{font-size:24px;font-weight:800;min-width:60px;text-align:right;color:#1e293b}
.npsBreakdown {
  display: flex;
  justify-content: center;   /* Centraliza no container */
  gap: 12px;                 /* Espaço entre os chips */
  margin-top: 8px;
  flex-wrap: wrap;           /* Evita quebrar feio em telas pequenas */
}


/* CSAT */
.csatRow{display:flex;gap:16px;align-items:center}
.csatSide{display:flex;flex-direction:column;gap:8px;flex:1}
.csatBig{font-size:28px;font-weight:800;color:#1e293b}
.csatAvg{font-size:12px;color:#64748b;font-weight:500}
.csatDist{display:flex;flex-direction:column;gap:8px}
.csatBar{height:12px;border-radius:20px;background:#f1f5f9;display:flex;overflow:hidden;box-shadow: inset 0 1px 2px rgba(0,0,0,0.05)}
.csatSeg{display:block;height:100%;transition: width .3s ease}
.csat1{background:#ef4444}.csat2{background:#f59e0b}.csat3{background:#fbbf24}.csat4{background:#22c55e}.csat5{background:#10b981}
.csatLegend{display:flex;gap:12px;flex-wrap:wrap}
.csatLegendItem{font-size:11px;color:#64748b;display:flex;align-items:center;gap:6px;font-weight:500}
.dot{display:inline-block;width:8px;height:8px;border-radius:50%;box-shadow: 0 1px 2px rgba(0,0,0,0.1)}

/* Tabelas */
.tableWrap{overflow:auto;margin-top:8px;border-radius:12px;box-shadow: 0 1px 3px rgba(0,0,0,0.05);background: rgba(255,255,255,0.5);backdrop-filter: blur(8px)}
.table{width:100%;border-collapse:separate;border-spacing:0}
.table thead th{
  text-align:left;font-size:11px;text-transform:uppercase;letter-spacing:.05em;color:#64748b;
  padding:12px 16px;background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);border-bottom:1px solid #e2e8f0;font-weight:700
}
.table thead th:first-child{border-top-left-radius:12px}
.table thead th:last-child{border-top-right-radius:12px}
.table tbody td{padding:12px 16px;border-bottom:1px solid rgba(226,232,240,0.5);font-size:14px;color:#334155;font-weight:500}
.table tbody tr{transition: background-color .2s ease}
.table tbody tr:hover{background: rgba(248,250,252,0.8)}
.table tbody tr:last-child td:first-child{border-bottom-left-radius:12px}
.table tbody tr:last-child td:last-child{border-bottom-right-radius:12px}

/* Estados */
.loading{padding:20px;color:#64748b;text-align:center;font-size:14px;font-weight:500}
.empty{padding:20px;color:#94a3b8;text-align:center;font-size:14px;font-style:italic}
.subtleCenter{text-align:center;color:#64748b;font-size:12px;margin-top:8px;font-weight:500}

/* Responsividade */
@media (max-width: 768px){
  .container{padding:16px}
  .headerRow{flex-direction:column;gap:12px;align-items:stretch}
  .filters{flex-direction:column;gap:12px}
  .filterItem input{min-width:auto}
  .cardHead{padding:12px 16px;flex-direction:column;align-items:flex-start;gap:8px}
  .cardRight{align-self:flex-end}
  .cardBody{padding:16px}
  .statsGrid3{grid-template-columns:1fr;gap:8px}
  .csatRow{flex-direction:column;gap:12px;align-items:center}
  .npsWrap{flex-direction:column;gap:12px}
  .npsValue{text-align:center;min-width:auto}
  .tableWrap{font-size:12px}
  .table thead th,.table tbody td{padding:8px 12px}
}

/* Animações suaves */
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

/* Acessibilidade */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}
}

/* Dark opcional */
/* @media (prefers-color-scheme: dark){
  .container{background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);color:#e2e8f0}
  .card{background: rgba(30,41,59,.8);border-color: rgba(71,85,105,.6)}
  .cardHead{background: linear-gradient(135deg, rgba(30,41,59,.8) 0%, rgba(15,23,42,.6) 100%);border-color: rgba(71,85,105,.4)}
  .cardTitle,.statValue,.rankLabel,.rankValue,.npsValue,.csatBig{color:#e2e8f0}
  .cardIcon,.statLabel,.csatAvg,.donutLabel,.subtleCenter,.empty,.loading{color:#94a3b8}
  .crumb{background: linear-gradient(135deg, rgba(30,41,59,.9) 0%, rgba(15,23,42,.8) 100%);color:#cbd5e1;border-color: rgba(71,85,105,.6)}
  .filterItem input{background: rgba(30,41,59,.8);border-color: rgba(71,85,105,.6);color:#e2e8f0}
  .stat{background: linear-gradient(135deg, rgba(30,41,59,.6) 0%, rgba(51,65,85,.4) 100%);border-color: rgba(71,85,105,.4)}
  .table thead th{background: linear-gradient(135deg, rgba(15,23,42,.8) 0%, rgba(30,41,59,.6) 100%);color:#94a3b8}
  .table tbody td{color:#cbd5e1;border-color: rgba(71,85,105,.3)}
  .table tbody tr:hover{background: rgba(51,65,85,.3)}
  .tableWrap{background: rgba(30,41,59,.5)}
  /* charts em dark */
/*   .grid{stroke:#293548}
  .axis{stroke:#334155}
  .tick{fill:#9aa7b6}
  .areaFill{fill:rgba(59,130,246,.18)}
  .lineStroke{stroke:#60a5fa}
  .lineDot{fill:#60a5fa}
  .lineDotActive{fill:#93c5fd}
  .tt{background:#0b1220}
} */
