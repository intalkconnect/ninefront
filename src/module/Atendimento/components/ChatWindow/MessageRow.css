:root {
  --color-incoming-bg: #fefeff;
  --color-outgoing-bg: #6d788f;
  --color-text-light: #ffffff;
  --message-font-size: 0.95rem;
  --message-line-height: 1.4;
  --message-gap: 4px;
  --border-radius: 16px;
  --box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* linha do chat */
.message-row {
  display: flex;
  padding-bottom: var(--message-gap);
}
.message-row.incoming { justify-content: flex-start; }
.message-row.outgoing { justify-content: flex-end; }

/* NOVO: wrapper coluna (bolha + meta) */
.message-wrapper {
  max-width: 60%;
  display: flex;
  flex-direction: column;
}
.message-wrapper.incoming { align-items: flex-start; }
.message-wrapper.outgoing { align-items: flex-end; }

/* bolha */
.message-bubble {
  position: relative;
  /* max-width agora fica no wrapper */
  padding: 10px 14px;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-size: var(--message-font-size);
  word-wrap: break-word;
  overflow: visible;
}
.message-bubble.incoming {
  background-color: var(--color-incoming-bg);
  color: #000;
}
.message-bubble.outgoing {
  background-color: var(--color-outgoing-bg);
  color: #fff;
}

/* texto */
.message-content { line-height: var(--message-line-height); }

/* >>> META FORA DA BOLHA <<< */
.message-meta {
  margin-top: 4px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.72rem;
  line-height: 1;
  opacity: .9;
}
.message-meta.incoming { color: #6b7280; }
.message-meta.outgoing { color: #e5e7eb; } /* pode trocar por cinza/tema */
.message-row.outgoing .message-meta { color: #6b7280; } /* se preferir cinza padrão */

/* checks */
.check.sent, .check.pending { color: #9ca3af; font-size: .7rem; line-height: 1; }
.check.delivered, .check.read { color: #34b7f1; font-size: .7rem; line-height: 1; }

/* (removido) cores de .message-time DENTRO da bolha */
.message-bubble.incoming .message-time,
.message-bubble.outgoing .message-time { color: inherit; }

/* menu na bolha */
.menu-arrow { position: absolute; top: 4px; right: 4px; display: none; z-index: 2; }
.message-bubble:hover .menu-arrow { display: block; }
.menu-button { background: none; border: none; cursor: pointer; padding: 2px; opacity: .6; color: inherit; font-size: 14px; }
.menu-button:hover { opacity: 1; }
.menu-dropdown {
  position: absolute; top: 20px; background: white; border: 1px solid #ccc;
  border-radius: 6px; padding: 4px 0; box-shadow: 0 2px 6px rgba(0,0,0,.2);
  z-index: 999; min-width: 140px;
}
.menu-dropdown.right { right: 0; }
.menu-dropdown.left { left: 0; }
.menu-dropdown button {
  display: flex; align-items: center; width: 100%; background: none; border: none;
  padding: 6px 12px; cursor: pointer; font-size: 14px; gap: 6px; color: #333;
}
.menu-dropdown button:hover { background-color: #f0f0f0; }

/* replied */
.replied-message { border-left: 3px solid rgba(255,255,255,.4); padding-left: 8px; margin-bottom: 6px; opacity: .85; font-size: .85rem; }
.message-bubble.incoming .replied-message { border-left-color: rgba(0,0,0,.2); }

/* mídias dentro da bolha */
.message-bubble img,
.message-bubble video,
.message-bubble audio,
.message-bubble iframe {
  max-width: 100%;
  border-radius: 8px;
  display: block;
}
